# Эмулятор оболочки ОС

## Описание проекта

Данный проект представляет собой эмулятор оболочки операционной системы, предназначенный для работы в режиме командной строки (CLI). Эмулятор имитирует сеанс shell в UNIX-подобной ОС и позволяет пользователю взаимодействовать с виртуальной файловой системой, хранящейся в формате tar-архива. Эмулятор обеспечивает удобный интерфейс без необходимости распаковки архива на устройстве пользователя.

## Основные характеристики

- **Запуск из реальной командной строки.**
- **Работа с виртуальной файловой системой.** Архив формата tar используется как виртуальная файловая система.
- **Поддержка конфигурационного файла.** Файл в формате TOML содержит следующие параметры:
  - Имя пользователя (для отображения в приглашении к вводу).
  - Имя компьютера (для отображения в приглашении к вводу).
  - Путь к архиву виртуальной файловой системы.

## Поддерживаемые команды

Эмулятор поддерживает следующие команды:

1. **`ls`** — выводит содержимое текущей директории.
2. **`cd`** — изменяет текущую директорию.
3. **`exit`** — завершает работу эмулятора.
4. **`tail`** — отображает последние строки указанного файла.
5. **`mv`** — перемещает или переименовывает файл/директорию.
6. **`rev`** — переворачивает строки указанного файла задом наперед.

## Особенности реализации

- **Реалистичный пользовательский интерфейс.** Приглашение к вводу (`<имя_пользователя>@<имя_компьютера>:<текущая_директория>$`) повторяет стиль UNIX shell.
- **Безопасная работа с tar-архивами.** Файлы обрабатываются напрямую, без извлечения на диск.
- **Тестирование.** Для каждой команды написано по 3 теста, обеспечивающих проверку её функциональности.

## Установка и запуск

1. Убедитесь, что на вашей системе установлен Python версии 3.8 или выше.
2. Установите необходимые зависимости (если они указаны в `requirements.txt`):
   ```bash
   pip install -r requirements.txt
   ```
3. Создайте конфигурационный файл в формате TOML, например:
   ```toml
   [config]
   username = "user"
   hostname = "host"
   archive_path = "path/to/filesystem.tar"
   ```
4. Запустите эмулятор командой:
   ```bash
   python shell_emulator.py --config=config.toml
   ```

## Тестирование

Для проверки функциональности эмулятора выполните тесты:
```bash
pytest tests_shell.py
```

Каждая из поддерживаемых команд покрыта 3 тестами, проверяющими её корректную работу.

## Пример использования

После запуска эмулятора вы увидите приглашение к вводу в формате:
```
user@host:/current/directory$
```
Пример выполнения команды `ls`:
```
user@host:/current/directory$ ls
file1.txt
directory1
```

## Требования

- Python 3.8+
- Библиотека для работы с TOML (например, `toml` или `tomli`).
- Тестовый фреймворк `pytest` (для тестирования).

## Лицензия

Этот проект распространяется под свободной лицензией. Подробности см. в файле `LICENSE`.

